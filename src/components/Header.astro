---
import HeaderLink from "@components/HeaderLink.astro";
import {
  GITHUB_PROFILE,
  LINKEDIN_PROFILE,
  RSS_FEED,
  SITE_TITLE,
} from "@data/consts";
import { getCollection } from "astro:content";

// alphabetical order
const posts = (await getCollection("en")).sort((a, b) =>
  a.data.title.localeCompare(b.data.title)
);
---

<header>
  <div class="split">
    <code>/</code>
    <a href="/" class="logo">{SITE_TITLE}</a>
  </div>
  <nav>
    {
      posts.map((post) => (
        <HeaderLink href={`/en/${post.slug}/`}>{post.data.title}</HeaderLink>
      ))
    }
    <HeaderLink href="/blog/">Blog</HeaderLink>
    <HeaderLink href={LINKEDIN_PROFILE} target="_blank">LinkedIn →</HeaderLink>
    <HeaderLink href={GITHUB_PROFILE} target="_blank">GitHub →</HeaderLink>
    <HeaderLink href={RSS_FEED}>RSS →</HeaderLink>
  </nav>
</header>
<style>
  header {
    margin: 0em 0 2em;
  }
  .split {
    display: flex;
    justify-content: space-between;
    margin: 1em 0;
  }
  .logo {
    /* text-transform: uppercase; */
    text-decoration: none;
    font-weight: bold;
    color: black;
  }
</style>
